import{h as u,r as h,j as e,b as g,S as p}from"./index-3NETQRPl.js";import{d as f,f as x,s as j,b}from"./helpers-Bi5bTQUP.js";import{I as v,b as y,e as N,f as k}from"./MoreVert-DY_mMXcE.js";import"./index-B1EoBlKu.js";const M=["See Details","Checkin","Delete"],_=48;function D({id:t}){const a=u(),[n,o]=h.useState(null),r=!!n,l=s=>{o(s.currentTarget)},i=()=>{o(null)};function c(s){s==="See Details"&&a(`/bookings/${t}`)}return e.jsxs("div",{children:[e.jsx(v,{"aria-label":"more",id:"long-button","aria-controls":r?"long-menu":void 0,"aria-expanded":r?"true":void 0,"aria-haspopup":"true",onClick:l,children:e.jsx(y,{})}),e.jsx(N,{id:"long-menu",anchorEl:n,open:r,onClose:i,slotProps:{paper:{style:{maxHeight:_*4.5,width:"20ch"}},list:{"aria-labelledby":"long-button"}},children:M.map(s=>e.jsx(k,{onClick:()=>{c(s),i()},children:s},s))})]})}function w(){const{data:t,isLoading:a,error:n}=g({queryKey:["bookings"],queryFn:f});return{bookings:t,isLoading:a,error:n}}function S(){const{bookings:t,isLoading:a}=w();if(a||!t)return e.jsx(p,{});const n={"checked-out":"bg-stone-200 text-stone-700","checked-in":"bg-emerald-100 text-emerald-700",unconfirmed:"bg-amber-100 text-amber-700"};return e.jsxs("div",{className:"mt-10 rounded-xl border border-stone-200 bg-white shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_2fr_2.5fr_1.5fr_1.5fr_1fr] gap-x-6 px-6 py-4 text-sm font-semibold text-stone-600 border-b border-stone-200",children:[e.jsx("span",{className:"text-center",children:"Apartment"}),e.jsx("span",{children:"Guest"}),e.jsx("span",{children:"Dates"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Amount"}),e.jsx("span",{className:"text-right",children:"Settings"})]}),e.jsx("div",{className:"divide-y divide-stone-200",children:t.data.map(o=>{const{id:r,apartments:l,guests:i,startDate:c,endDate:s,status:d,totalPrice:m}=o;return e.jsxs("div",{className:"grid grid-cols-[1fr_2fr_2.5fr_1.5fr_1.5fr_1fr] gap-x-6 px-6 py-4 items-center hover:bg-stone-50 transition",children:[e.jsxs("div",{className:"font-medium text-stone-800 text-center",children:[e.jsx("span",{className:"grow text-2xl text-center",children:l.name}),e.jsx("img",{className:"grow",src:l.image})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:i.fullName}),e.jsx("p",{className:"text-sm text-stone-500",children:i.email})]}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{children:[x(new Date(c),"MMM d yyyy")," â†’"," ",x(new Date(s),"MMM d yyyy")]}),e.jsxs("p",{className:"text-stone-500",children:[j(s,c)," nights"]})]}),e.jsx("div",{children:e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full
                    ${n[d]}
                  `,children:d})}),e.jsx("div",{className:"font-semibold",children:b(m)}),e.jsx("div",{className:"text-right pl-3",children:e.jsx(D,{id:r})})]},r)})})]})}function A(){return e.jsxs("div",{className:"pt-5",children:[e.jsx("h3",{className:"text-3xl font-semibold",children:"All Bookings"}),e.jsx(S,{})]})}export{A as default};
