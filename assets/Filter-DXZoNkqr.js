import{s as n,b as p,u as f,j as i}from"./index-B12FuQRA.js";async function w(){const{data:r,error:e}=await n.from("apartments").select("*").order("created_at",{ascending:!1});if(e)throw console.error(e),new Error("Apartments could not be loaded");return r}async function b(r){const{data:e,error:t}=await n.from("apartments").select("*").eq("id",r);if(t)throw console.error(t),new Error("Apartment could not be loaded");return e[0]}async function h(r){const{error:e}=await n.from("apartments").delete().eq("id",r);if(e)throw console.error(e),new Error("Apartment could not be deleted")}async function A(r){const{data:e,error:t}=await n.from("apartments").select("*").eq("id",r),{description:o,discount:s,image:c,maxCapacity:a,name:l,regularPrice:m}=e&&e.at(0),u={description:o,discount:s,image:c,maxCapacity:a,name:l,regularPrice:m,created_at:new Date().toISOString()},{error:d}=await n.from("apartments").insert([u]);if(t||d)throw console.error(d||t),new Error("Apartment could not be duplicated")}async function y(r,e){const{error:t}=await n.from("apartments").update(e).eq("id",r);if(t)throw console.error(t),new Error("Apartment could not be edited")}async function x(r){const{error:e}=await n.from("apartments").insert([r]).select();if(e)throw console.error(e),new Error("Apartment could not be added")}function E(){const{isLoading:r,data:e,error:t}=p({queryKey:["apartments"],queryFn:w});return{isLoading:r,apartments:e,error:t}}function q({filterField:r,options:e}){const[t,o]=f(),s=t.get(r)??e[0].value;function c(a){t.set(r,a),o(t)}return i.jsx("ul",{className:"flex gap-2",children:e.map(a=>i.jsx("li",{children:i.jsx("button",{className:`min-w-28 px-4 py-2 rounded-lg font-medium transition cursor-pointer
                        ${a.value===s?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-stone-100 text-stone-800 hover:bg-stone-200"}`,onClick:()=>c(a.value),children:a.label})},a.label))})}export{q as F,x as a,A as b,h as d,y as e,b as g,E as u};
